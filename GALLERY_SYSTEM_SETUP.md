# Gallery Dashboard System - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     GALLERY WORKFLOW                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

1. –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø
   User ‚Üí Supabase Auth ‚Üí galleries table (owner_user_id)
   
2. –°–û–ó–î–ê–ù–ò–ï –í–´–°–¢–ê–í–ö–ò
   Gallery Dashboard ‚Üí exhibition_submissions (status: draft)
   
3. –û–¢–ü–†–ê–í–ö–ê –ù–ê –ú–û–î–ï–†–ê–¶–ò–Æ
   Gallery clicks "Submit" ‚Üí status: pending_review
   
4. –ú–û–î–ï–†–ê–¶–ò–Ø
   Admin panel ‚Üí Approve ‚Üí status: approved
   
5. –ü–£–ë–õ–ò–ö–ê–¶–ò–Ø
   Admin clicks "Approve" ‚Üí —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ published ‚Üí —Å–æ–±—ã—Ç–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ Sanity
   
6. –ü–£–ë–õ–ò–ß–ù–´–ô –°–ê–ô–¢
   Website ‚Üí —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Sanity/AppSync ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã—Å—Ç–∞–≤–∫–∏
```

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase

### –¢–∞–±–ª–∏—Ü—ã

1. **galleries** - –≥–∞–ª–µ—Ä–µ–∏, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ —Å–∏—Å—Ç–µ–º–µ
   - `owner_user_id` ‚Üí —Å—Å—ã–ª–∫–∞ –Ω–∞ auth.users

2. **exhibition_submissions** - —á–µ—Ä–Ω–æ–≤–∏–∫–∏ –∏ –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—ã—Å—Ç–∞–≤–∫–∏
   - —Å—Ç–∞—Ç—É—Å—ã: draft ‚Üí pending_review ‚Üí approved ‚Üí published
   
3. **gallery_managers** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

4. **gallery_audit_log** - –ª–æ–≥ –¥–µ–π—Å—Ç–≤–∏–π

## üö® –ü—Ä–æ–±–ª–µ–º–∞: Infinite Recursion

### –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å?

RLS –ø–æ–ª–∏—Ç–∏–∫–∏ —Å–æ–∑–¥–∞–ª–∏ —Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:
- –ü–æ–ª–∏—Ç–∏–∫–∞ `galleries` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `gallery_managers`
- –ü–æ–ª–∏—Ç–∏–∫–∞ `gallery_managers` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `galleries`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏—è

### –†–µ—à–µ–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª **`supabase-fix-rls.sql`** –≤ Supabase SQL Editor.

–≠—Ç–æ—Ç —Ñ–∞–π–ª:
1. –£–¥–∞–ª–∏—Ç –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏
2. –°–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–µ –ë–ï–ó —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. –£–ø—Ä–æ—Å—Ç–∏—Ç –ª–æ–≥–∏–∫—É –¥–æ—Å—Ç—É–ø–∞

## ‚öôÔ∏è –®–∞–≥–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ RLS

```sql
-- –í Supabase SQL Editor –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
supabase-fix-rls.sql
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ credentials –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

```bash
# apps/web/.env.local
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Storage –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `SUPABASE_STORAGE_SETUP.md`

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ Sanity

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `apps/studio/README.md`, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Studio –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø—Ä–æ–µ–∫—Ç—É –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ –≤—ã—Å—Ç–∞–≤–∫–∏.

## üîê –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ—Å—Ç—É–ø

### –î–ª—è –≥–∞–ª–µ—Ä–∏—Å—Ç–æ–≤

```javascript
// –ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç gallery –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
async function createGalleryForUser(userId: string, email: string) {
  const { data, error } = await supabase
    .from('galleries')
    .insert({
      owner_user_id: userId,
      name: `Gallery ${email}`,
      email: email,
      is_active: true
    })
    .select()
    .single();
  
  return data;
}
```

### RLS –ø–æ–ª–∏—Ç–∏–∫–∏ (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

**Galleries:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –¢–û–õ–¨–ö–û —Å–≤–æ–∏ –≥–∞–ª–µ—Ä–µ–∏ (`owner_user_id = auth.uid()`)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –¢–û–õ–¨–ö–û —Å–≤–æ–∏ –≥–∞–ª–µ—Ä–µ–∏

**Exhibition Submissions:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∑–∞—è–≤–∫–∏ –°–í–û–ò–• –≥–∞–ª–µ—Ä–µ–π
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç/—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –∑–∞—è–≤–∫–∏ –°–í–û–ò–• –≥–∞–ª–µ—Ä–µ–π

## üìù Workflow –≥–∞–ª–µ—Ä–∏—Å—Ç–∞

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

```
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /gallery-login
2. –ù–∞–∂–∞—Ç—å "Register"
3. –í–≤–µ—Å—Ç–∏ email + password
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å email (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—á—Ç—É)
5. –í–æ–π—Ç–∏
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è:**
- –ó–∞–ø–∏—Å—å –≤ `auth.users`
- –ó–∞–ø–∏—Å—å –≤ `galleries` —Å `owner_user_id`

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤—ã—Å—Ç–∞–≤–∫–∏

```
1. Dashboard ‚Üí "New Exhibition"
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É (title, dates, artists, etc.)
3. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (Supabase Storage)
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ "Draft"
```

**–°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å:**
```sql
exhibition_submissions (
  status = 'draft',
  gallery_id = <user's gallery>,
  ...
)
```

### 3. –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é

```
1. Dashboard ‚Üí "Exhibitions" tab
2. –ù–∞–∂–∞—Ç—å "Submit for Review" –Ω–∞ —á–µ—Ä–Ω–æ–≤–∏–∫–µ
3. Status –º–µ–Ω—è–µ—Ç—Å—è: draft ‚Üí pending_review
```

### 4. –ú–æ–¥–µ—Ä–∞—Ü–∏—è (Admin)

```
1. Admin –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç /admin/moderation
2. –í–∏–¥–∏—Ç –≤—Å–µ pending_review
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∫–∞—Ä—Ç–æ—á–∫–∞ –≥–∞–ª–µ—Ä–µ–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. –ù–∞–∂–∏–º–∞–µ—Ç "Approve"
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
```typescript
// AdminModeration.tsx
const handleApprove = async (exhibition: ExhibitionWithGallery) => {
   const supabase = getSupabaseClient();

   await supabase
      .from('exhibition_submissions')
      .update({
         status: 'published',
         approved_at: new Date().toISOString(),
         published_at: new Date().toISOString(),
      })
      .eq('id', exhibition.id);
};
```

–ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–ª—É—á–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ `approved_at` –∏ `published_at`. –≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å Sanity: —Ñ–æ–Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –≤—ã—Å—Ç–∞–≤–∫–∏ –≤ Studio –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å `_id` –≤ –ø–æ–ª–µ `sanity_exhibition_id`, –ø–æ—Å–ª–µ —á–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–º —Å–∞–π—Ç–µ.

## üîó –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

- Supabase —Ö—Ä–∞–Ω–∏—Ç –∑–∞—è–≤–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `exhibition_submissions`.
- –ö–æ–≥–¥–∞ —Å—Ç–∞—Ç—É—Å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `published`, –ø—Ä–æ—Ü–µ—Å—Å –∏–º–ø–æ—Ä—Ç–∞ —Å–æ–∑–¥–∞–µ—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –≤ Sanity –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `_id` –≤ `sanity_exhibition_id`.
- –ü—É–±–ª–∏—á–Ω—ã–π —Å–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Sanity (—Å–º. `apps/web/sanity`) –∏ GraphQL —Å–ª–æ–π –¥–ª—è –≥–∞–ª–µ—Ä–µ–π, –ø–æ—ç—Ç–æ–º—É Directus –±–æ–ª—å—à–µ –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Ü–µ–ø–æ—á–∫–µ.
- –î–ª—è —Ä—É—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ `apps/studio/scripts` –ª–∏–±–æ —Å–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é –∑–∞–ø–∏—Å—å –Ω–∞–ø—Ä—è–º—É—é –≤ Sanity Studio.

## üõ†Ô∏è Troubleshooting

### –û—à–∏–±–∫–∞: "No Gallery Found"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞–ª–∞—Å—å –∑–∞–ø–∏—Å—å –≤ `galleries`

**–†–µ—à–µ–Ω–∏–µ:**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—Å—Ç—å –ª–∏ gallery
SELECT * FROM galleries WHERE owner_user_id = 'user-uuid';

-- –°–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
INSERT INTO galleries (owner_user_id, name, email)
VALUES ('user-uuid', 'Gallery Name', 'email@example.com');
```

### –û—à–∏–±–∫–∞: "infinite recursion"

**–ü—Ä–∏—á–∏–Ω–∞:** –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç—å `supabase-fix-rls.sql`

### –û—à–∏–±–∫–∞: "Exhibition not visible on site"

**–ü—Ä–∏—á–∏–Ω–∞:** –¥–æ–∫—É–º–µ–Ω—Ç –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω –≤ Sanity (`sanity_exhibition_id` –ø—É—Å—Ç–æ–π)

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞—è–≤–∫–∞ –∏–º–µ–µ—Ç —Å—Ç–∞—Ç—É—Å `published`.
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –≤—Ä—É—á–Ω—É—é –≤ Sanity –∏ —É–∫–∞–∂–∏—Ç–µ `_id` –≤ –ø–æ–ª–µ `sanity_exhibition_id`.

### –û—à–∏–±–∫–∞: "Permission denied"

**–ü—Ä–∏—á–∏–Ω–∞:** RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç –¥–æ—Å—Ç—É–ø

**–†–µ—à–µ–Ω–∏–µ:** 
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `owner_user_id` —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–∫—É—â–∏–º user
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –≤ Supabase Dashboard

## üìã Checklist –¥–ª—è –∑–∞–ø—É—Å–∫–∞

- [ ] –ó–∞–ø—É—â–µ–Ω `supabase-fix-rls.sql` (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ RLS)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã `.env.local` credentials
- [ ] –°–æ–∑–¥–∞–Ω bucket `exhibition-images` –≤ Storage
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã Storage policies (SUPABASE_STORAGE_SETUP.md)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω –¥–æ—Å—Ç—É–ø –∫ Sanity Studio (apps/studio/README.md)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: —Å–æ–∑–¥–∞–µ—Ç—Å—è gallery
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω dashboard: –≤–∏–¥–Ω—ã exhibitions
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—è: admin –º–æ–∂–µ—Ç approve

## üéØ Next Steps

1. **–°–µ–π—á–∞—Å:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å RLS (–∑–∞–ø—É—Å—Ç–∏—Ç—å supabase-fix-rls.sql)
2. **–ü–æ—Å–ª–µ:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
3. **–ó–∞—Ç–µ–º:** –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –≤—ã—Å—Ç–∞–≤–∫—É
4. **–§–∏–Ω–∞–ª—å–Ω–æ:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å approve workflow

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ console –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F12)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Supabase logs (Dashboard ‚Üí Logs)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ (Dashboard ‚Üí Authentication ‚Üí Policies)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ user –∑–∞–ª–æ–≥–∏–Ω–µ–Ω: `supabase.auth.getUser()`
