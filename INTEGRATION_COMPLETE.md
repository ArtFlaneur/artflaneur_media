# üé® Art Flaneur Media - –ü–æ–ª–Ω–∞—è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Sanity Client
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `sanity/lib/client.ts` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Vite –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `import.meta.env` –¥–ª—è Vite

### 2. GROQ –ó–∞–ø—Ä–æ—Å—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω `sanity/lib/queries.ts` —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏ –¥–ª—è:
  - Reviews (–æ–±–∑–æ—Ä—ã)
  - Posts (—Å—Ç–∞—Ç—å–∏)
  - Exhibitions (–≤—ã—Å—Ç–∞–≤–∫–∏)
  - Galleries (–≥–∞–ª–µ—Ä–µ–∏)
  - Artists (—Ö—É–¥–æ–∂–Ω–∏–∫–∏)
  - Homepage content
  - Site settings

### 3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `apps/web/.env.local` —Å Sanity –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- ‚úÖ –£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `apps/studio/.env` —Å project ID –∏ dataset
- ‚úÖ –°–æ–∑–¥–∞–Ω `.env.example` –¥–ª—è web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 4. Package.json –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `apps/web/package.json` —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:
  - @sanity/client
  - @sanity/image-url
  - groq
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä–Ω–µ–≤–æ–π `package.json` —Å–æ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –æ–±–æ–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `concurrently` –¥–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

### 5. Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `apps/web/vite.config.ts` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∞–ª–∏–∞—Å–∞–º–∏

### 6. TypeGen –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω `apps/studio/sanity-typegen.json`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç `typegen` –≤ `apps/studio/package.json`

### 7. –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ React
- ‚úÖ –°–æ–∑–¥–∞–Ω `apps/web/main.tsx`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `apps/web/index.html` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `main.tsx`
- ‚úÖ –°–æ–∑–¥–∞–Ω `apps/web/AppWithSanity.tsx` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Sanity

### 8. TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `apps/web/tsconfig.json` —Å:
  - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ path aliases
  - –í–∫–ª—é—á–µ–Ω–∏–µ–º sanity —Ñ–∞–π–ª–æ–≤
  - –°—Ç—Ä–æ–≥–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ TypeScript

### 9. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω `SETUP.md` —Å –ø–æ–ª–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –∑–∞–ø—É—Å–∫—É

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
```bash
npm install
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
npm run dev
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```bash
# –¢–æ–ª—å–∫–æ Studio
npm run dev:studio

# –¢–æ–ª—å–∫–æ Web
npm run dev:web
```

### –®–∞–≥ 3: –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- **Sanity Studio**: http://localhost:3333
- **Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: http://localhost:3000

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å/–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

### 1. Sanity –ø—Ä–æ–µ–∫—Ç (‚úÖ –£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
–í–∞—à –ø—Ä–æ–µ–∫—Ç —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:
- Project ID: `o1yl0ri9`
- Dataset: `blog`

### 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤ (–ù—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å)
–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ Studio, —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ TypeScript —Ç–∏–ø—ã:
```bash
npm run typegen
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `apps/web/sanity/types.ts` —Å —Ç–∏–ø–∞–º–∏ –¥–ª—è –≤–∞—à–µ–π —Å—Ö–µ–º—ã.

### 3. –ò–º–ø–æ—Ä—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞:
```bash
cd apps/studio
npm run import-json
```

## üîß –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ö–æ—Ä–Ω–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
npm run dev           # –ó–∞–ø—É—Å—Ç–∏—Ç—å studio –∏ web –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
npm run dev:studio    # –¢–æ–ª—å–∫–æ Sanity Studio
npm run dev:web       # –¢–æ–ª—å–∫–æ Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
npm run build         # –°–æ–±—Ä–∞—Ç—å –æ–±–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run build:studio  # –°–æ–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ Studio
npm run build:web     # –°–æ–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ Web
npm run typegen       # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å TypeScript —Ç–∏–ø—ã
npm run typecheck     # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø—ã –≤ –æ–±–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö
```

### Studio –∫–æ–º–∞–Ω–¥—ã
```bash
cd apps/studio
npm run dev           # –ó–∞–ø—É—Å—Ç–∏—Ç—å Studio
npm run build         # –°–æ–±—Ä–∞—Ç—å Studio
npm run deploy        # –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å Studio –Ω–∞ Sanity
npm run typegen       # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã
npm run typecheck     # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø—ã
```

### Web –∫–æ–º–∞–Ω–¥—ã
```bash
cd apps/web
npm run dev           # –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
npm run build         # –°–æ–±—Ä–∞—Ç—å –¥–ª—è production
npm run preview       # –ü—Ä–æ—Å–º–æ—Ç—Ä production build
npm run typecheck     # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø—ã
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
artflaneur_media/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ studio/              # Sanity Studio (CMS)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemaTypes/     # –°—Ö–µ–º—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .env             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (o1yl0ri9, blog)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ web/                 # React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ       ‚îú‚îÄ‚îÄ components/      # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ pages/           # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ       ‚îú‚îÄ‚îÄ .env.local       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å Sanity ID
‚îÇ       ‚îú‚îÄ‚îÄ main.tsx         # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ       ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ sanity/
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îÇ       ‚îú‚îÄ‚îÄ client.ts        # Sanity –∫–ª–∏–µ–Ω—Ç
‚îÇ       ‚îú‚îÄ‚îÄ queries.ts       # GROQ –∑–∞–ø—Ä–æ—Å—ã
‚îÇ       ‚îú‚îÄ‚îÄ live.ts          # Live preview (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
‚îÇ       ‚îî‚îÄ‚îÄ token.ts         # –¢–æ–∫–µ–Ω—ã API
‚îú‚îÄ‚îÄ package.json             # Workspace –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ pnpm-workspace.yaml      # PNPM workspace (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ npm)
‚îî‚îÄ‚îÄ SETUP.md                 # –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. Node.js –≤–µ—Ä—Å–∏—è
–í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Node.js v20.18.0. –î–ª—è –ø–æ–ª–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
- Node.js 20.19+ –∏–ª–∏ 22.12+

–ù–æ —Ç–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å (warning –º–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å).

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ npm –≤–º–µ—Å—Ç–æ pnpm
–ü—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è pnpm, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å npm. –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤ —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `npm`.

### 3. –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π App.tsx
–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å `apps/web/App.tsx` —Å —Ä–æ—É—Ç–∏–Ω–≥–æ–º. –Ø —Å–æ–∑–¥–∞–ª `AppWithSanity.tsx` –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Sanity. –í—ã –º–æ–∂–µ—Ç–µ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `App.tsx` –∫–∞–∫ –µ—Å—Ç—å
- –ò–ª–∏ –≤–∑—è—Ç—å –∫–æ–¥ –∏–∑ `AppWithSanity.tsx` –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Sanity

### 4. –£—è–∑–≤–∏–º–æ—Å—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
–ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ 20 —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π. –î–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```bash
npm audit fix
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç**:
   ```bash
   npm run dev
   ```

2. **–û—Ç–∫—Ä–æ–π—Ç–µ Studio** (http://localhost:3333) –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–Ω—Ç

3. **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ç–∏–ø—ã**:
   ```bash
   npm run typegen
   ```

4. **–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** –≤ `apps/web/pages/` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Sanity –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `client.fetch()`

5. **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ**:
   ```typescript
   import { client } from '../../sanity/lib/client'
   import { REVIEWS_QUERY } from '../../sanity/lib/queries'
   
   const MyComponent = () => {
     const [reviews, setReviews] = useState([])
     
     useEffect(() => {
       client.fetch(REVIEWS_QUERY).then(setReviews)
     }, [])
     
     return <div>{/* render reviews */}</div>
   }
   ```

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Cannot find module '../sanity/lib/client'"
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç–∏ –≤ –∏–º–ø–æ—Ä—Ç–∞—Ö –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ. –ò–∑ `apps/web/`:
```typescript
import { client } from '../sanity/lib/client'  // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
import { client } from '../../sanity/lib/client'  // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
```

### –ü—Ä–æ–±–ª–µ–º–∞: Sanity Studio –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ**: 
```bash
cd apps/studio
npm install
npm run dev
```

### –ü—Ä–æ–±–ª–µ–º–∞: TypeScript –æ—à–∏–±–∫–∏
**–†–µ—à–µ–Ω–∏–µ**:
```bash
npm run typegen
npm run typecheck
```

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Sanity Documentation](https://www.sanity.io/docs)
- [GROQ Query Language](https://www.sanity.io/docs/groq)
- [React Router](https://reactrouter.com)
- [Vite](https://vitejs.dev)

---

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É! üéâ**

–í—ã–ø–æ–ª–Ω–∏—Ç–µ `npm run dev` –∏ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É!
