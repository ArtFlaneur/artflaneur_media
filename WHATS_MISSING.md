# –ß–¢–û –ù–ï –•–í–ê–¢–ê–ï–¢ –î–õ–Ø –ü–û–õ–ù–û–ì–û –°–û–ï–î–ò–ù–ï–ù–ò–Ø

## ‚úÖ –£–ñ–ï –ì–û–¢–û–í–û

1. ‚úÖ **Sanity Client –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - `sanity/lib/client.ts` –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è Vite
2. ‚úÖ **GROQ –∑–∞–ø—Ä–æ—Å—ã** - —Å–æ–∑–¥–∞–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ `sanity/lib/queries.ts`
3. ‚úÖ **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è Studio –∏ Web
4. ‚úÖ **Package.json** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (@sanity/client, groq, etc.)
5. ‚úÖ **Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–ª–∏–∞—Å—ã –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
6. ‚úÖ **TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—É—Ç–∏ –∏ –≤–∫–ª—é—á–µ–Ω–∏—è
7. ‚úÖ **TypeGen –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –≥–æ—Ç–æ–≤ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
8. ‚úÖ **–¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞** - —Å–æ–∑–¥–∞–Ω—ã main.tsx –∏ –æ–±–Ω–æ–≤–ª–µ–Ω index.html
9. ‚úÖ **–°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

## üìã –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –î–õ–Ø –ó–ê–ü–£–°–ö–ê

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å concurrently (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ npm –≤–º–µ—Å—Ç–æ pnpm)

```bash
npm install --save-dev concurrently
```

**–°—Ç–∞—Ç—É—Å**: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∫–æ—Ä–Ω–µ–≤–æ–π package.json, –Ω–æ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å

### 2. –û–±–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –≤ package.json –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å npm

–¢–µ–∫—É—â–∏–π –∫–æ—Ä–Ω–µ–≤–æ–π `package.json` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç pnpm —Ñ–∏–ª—å—Ç—Ä—ã. –î–ª—è npm –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

```json
{
  "scripts": {
    "dev": "concurrently \"npm --prefix apps/studio run dev\" \"npm --prefix apps/web run dev\"",
    "dev:studio": "npm --prefix apps/studio run dev",
    "dev:web": "npm --prefix apps/web run dev",
    "build": "npm --prefix apps/studio run build && npm --prefix apps/web run build",
    "build:studio": "npm --prefix apps/studio run build",
    "build:web": "npm --prefix apps/web run build",
    "typegen": "npm --prefix apps/studio run typegen",
    "typecheck": "npm --prefix apps/studio run typecheck && npm --prefix apps/web run typecheck"
  }
}
```

**–°—Ç–∞—Ç—É—Å**: –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å

### 3. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å TypeScript —Ç–∏–ø—ã

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ Studio:

```bash
npm run typegen
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `apps/web/sanity-schema.json` –∏ `apps/web/sanity/types.ts`

**–°—Ç–∞—Ç—É—Å**: –ù—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Studio

### 4. –°–æ–∑–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ Sanity Studio

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Studio –Ω–∞ http://localhost:3333:
1. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É —Å –≤–∞—à–∏–º–∏ Sanity credentials
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (reviews, posts, exhibitions)
3. –û–ø—É–±–ª–∏–∫—É–π—Ç–µ –∏—Ö

**–°—Ç–∞—Ç—É—Å**: –ù—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é

### 5. –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Sanity

–í–∞—à–∏ —Ç–µ–∫—É—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç mock –¥–∞–Ω–Ω—ã–µ. –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∏—Ö –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Sanity:

**–ü—Ä–∏–º–µ—Ä –¥–ª—è apps/web/pages/Home.tsx**:

```typescript
import { useEffect, useState } from 'react'
import { client } from '../../sanity/lib/client'
import { REVIEWS_QUERY, EXHIBITIONS_QUERY } from '../../sanity/lib/queries'

function Home() {
  const [reviews, setReviews] = useState([])
  const [exhibitions, setExhibitions] = useState([])

  useEffect(() => {
    // Fetch reviews
    client.fetch(REVIEWS_QUERY).then(setReviews)
    
    // Fetch exhibitions
    client.fetch(EXHIBITIONS_QUERY).then(setExhibitions)
  }, [])

  // ... rest of component
}
```

**–°—Ç–∞—Ç—É—Å**: –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–∞–∂–¥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üöÄ –ù–ï–ú–ï–î–õ–ï–ù–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø –î–õ–Ø –ó–ê–ü–£–°–ö–ê

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å package.json
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ package.json –≤ –∫–æ—Ä–Ω–µ –∏ –∑–∞–º–µ–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞ —Ç–µ, —á—Ç–æ —É–∫–∞–∑–∞–Ω—ã –≤—ã—à–µ
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å concurrently
```bash
npm install
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
```bash
npm run dev
```

### –®–∞–≥ 4: –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Studio - —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã
```bash
# –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
npm run typegen
```

## üìù –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### 1. –î–æ–±–∞–≤–∏—Ç—å @sanity/image-url —Ö–µ–ª–ø–µ—Ä

–°–æ–∑–¥–∞—Ç—å `sanity/lib/image.ts`:

```typescript
import imageUrlBuilder from '@sanity/image-url'
import { client } from './client'

const builder = imageUrlBuilder(client)

export function urlFor(source: any) {
  return builder.image(source)
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```typescript
import { urlFor } from '../../sanity/lib/image'

<img src={urlFor(image).width(400).url()} alt="" />
```

### 2. –î–æ–±–∞–≤–∏—Ç—å Live Preview (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è live preview –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤ Studio:
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `sanity/lib/live.ts`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@sanity/preview-kit`

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –≤ Sanity

–ï—Å–ª–∏ –±—É–¥—É—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å CORS:
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://www.sanity.io/manage
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `o1yl0ri9`
3. API ‚Üí CORS Origins
4. –î–æ–±–∞–≤—å—Ç–µ `http://localhost:3000`

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

### Node.js –≤–µ—Ä—Å–∏—è
–í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Node.js v20.18.0. –ï—Å—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏ Sanity, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç:
- Node.js >= 20.19 –∏–ª–∏ >= 22.12

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –û–±–Ω–æ–≤–∏—Ç—å Node.js –∏–ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å).

### pnpm vs npm
–ü—Ä–æ–µ–∫—Ç –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è pnpm, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å npm. –í—Å–µ –ø—É—Ç–∏ –∏ –∫–æ–º–∞–Ω–¥—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è npm.

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ñ–∞–π–ª—ã:
- `.env.local` (—É–∂–µ –≤ .gitignore)
- `.env` (—É–∂–µ –≤ .gitignore)
- `node_modules/` (—É–∂–µ –≤ .gitignore)

## üìä –°–¢–ê–¢–£–° –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|-----------|
| Sanity Client | ‚úÖ –ì–æ—Ç–æ–≤ | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Vite –∏ Node.js |
| GROQ Queries | ‚úÖ –ì–æ—Ç–æ–≤ | –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å–æ–∑–¥–∞–Ω—ã |
| Env Variables | ‚úÖ –ì–æ—Ç–æ–≤ | –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –æ–±–æ–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π |
| TypeScript Config | ‚úÖ –ì–æ—Ç–æ–≤ | –ü—É—Ç–∏ –∏ –≤–∫–ª—é—á–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã |
| Package Dependencies | ‚úÖ –ì–æ—Ç–æ–≤ | –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã |
| Build Scripts | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | –ó–∞–º–µ–Ω–∏—Ç—å pnpm –Ω–∞ npm |
| TypeGen | ‚è≥ –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ | –ù—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ—Å–ª–µ Studio |
| Component Integration | ‚è≥ –ü–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ | –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è Sanity |
| Content in CMS | ‚è≥ –í—Ä—É—á–Ω—É—é | –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –≤ Studio |

**–û–±—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: 80%**

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É! –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:
1. –û–±–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –≤ package.json
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm run dev`
3. –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –≤ Studio
4. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã

## üéØ –ö–†–ê–¢–ö–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

```bash
# 1. –ó–∞–º–µ–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ package.json (—Å–º. –≤—ã—à–µ)

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
npm run dev

# 4. –û—Ç–∫—Ä–æ–π—Ç–µ Studio (http://localhost:3333)
#    –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

# 5. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ç–∏–ø—ã
npm run typegen

# 6. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Sanity –¥–∞–Ω–Ω—ã—Ö
```

**–ì–æ—Ç–æ–≤–æ! üéâ**
