<!DOCTYPE html>
<html>
<head>
  <title>Sanity Connection Test</title>
</head>
<body>
  <h1>Testing Sanity Connection</h1>
  <div id="results"></div>
  
  <script type="module">
    import { createClient } from 'https://esm.sh/@sanity/client@6.22.8';
    
    const client = createClient({
      projectId: 'o1yl0ri9',
      dataset: 'blog',
      apiVersion: '2024-01-01',
      useCdn: false,
      perspective: 'published',
    });
    
    console.log('Client created:', client);
    
    // Test query
    const query = '*[_type == "review"][0...5]{ _id, title, publishStatus }';
    
    client.fetch(query)
      .then(data => {
        console.log('Data received:', data);
        document.getElementById('results').innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
      })
      .catch(err => {
        console.error('Error:', err);
        document.getElementById('results').innerHTML = '<pre style="color:red">Error: ' + err.message + '</pre>';
      });
  </script>
</body>
</html>
