# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π Sanity

## –ü—Ä–æ–±–ª–µ–º–∞

–†–∞–Ω—å—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –≤ –ø–æ–ª–Ω–æ–º —Ä–∞–∑–º–µ—Ä–µ —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π `asset.url`, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫:
- –ë–æ–ª—å—à–æ–º—É —Ä–∞–∑–º–µ—Ä—É —Ñ–∞–π–ª–æ–≤ (–∏–Ω–æ–≥–¥–∞ 5-10 MB –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
- –ú–µ–¥–ª–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü
- –ü–µ—Ä–µ—Ä–∞—Å—Ö–æ–¥—É —Ç—Ä–∞—Ñ–∏–∫–∞

## –†–µ—à–µ–Ω–∏–µ

–°–æ–∑–¥–∞–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ `imageBuilder.ts` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Sanity Image API.

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ**: WebP —Ñ–æ—Ä–º–∞—Ç, quality 80%
2. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã**: –†–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. **–ì–æ—Ç–æ–≤—ã–µ –ø—Ä–µ—Å–µ—Ç—ã**: hero, card, thumbnail, avatar, logo, content
4. **Fallback**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä—ã—Ö URL

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–µ—Å–µ—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```tsx
import { imagePresets } from '../lib/imageBuilder';

// –ì–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ (1600px, quality 85)
const heroUrl = imagePresets.hero(review.mainImage);

// –ü—Ä–µ–≤—å—é –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ (600px, quality 80)
const cardUrl = imagePresets.card(review.mainImage);

// –ú–∏–Ω–∏–∞—Ç—é—Ä—ã (400px, quality 75)
const thumbUrl = imagePresets.thumbnail(review.mainImage);

// –ê–≤–∞—Ç–∞—Ä—ã (200x200, crop, quality 80)
const avatarUrl = imagePresets.avatar(author.photo);

// –õ–æ–≥–æ—Ç–∏–ø—ã (300px, PNG –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏, quality 90)
const logoUrl = imagePresets.logo(sponsor.logo);

// –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ (1200px, quality 82)
const contentUrl = imagePresets.content(article.image);
```

#### –ö–∞—Å—Ç–æ–º–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

```tsx
import { getOptimizedImageUrl } from '../lib/imageBuilder';

const imageUrl = getOptimizedImageUrl(source, {
  width: 800,
  height: 600,
  quality: 75,
  format: 'jpg', // 'jpg' | 'png' | 'webp'
  fit: 'crop',   // 'clip' | 'crop' | 'fill' | 'max' | 'scale' | 'min'
});
```

#### Responsive –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

```tsx
import { getResponsiveImageUrls } from '../lib/imageBuilder';

const responsive = getResponsiveImageUrls(source);
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: { src: string, srcSet: string }

<img 
  src={responsive.src} 
  srcSet={responsive.srcSet}
  sizes="(max-width: 600px) 400px, (max-width: 1200px) 800px, 1600px"
  alt="Responsive image"
/>
```

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö URL

```tsx
import { optimizeExistingUrl } from '../lib/imageBuilder';

// –ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å URL –∏–∑ Sanity
const optimizedUrl = optimizeExistingUrl(
  'https://cdn.sanity.io/images/...',
  { width: 1200, quality: 80 }
);
```

## –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤:

- ‚úÖ `ListingPage.tsx` - –∫–∞—Ä—Ç–æ—á–∫–∏ reviews, guides, –∞–≤—Ç–æ—Ä—ã
- ‚úÖ `GuideView.tsx` - –æ–±–ª–æ–∂–∫–∏ –∏ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≥–∞–π–¥–æ–≤
- ‚úÖ `AmbassadorView.tsx` - –∞–≤–∞—Ç–∞—Ä—ã –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–µ–π
- ‚úÖ `ArtistView.tsx` - –ø–æ—Ä—Ç—Ä–µ—Ç—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç, –ª–æ–≥–æ—Ç–∏–ø—ã —Å–ø–æ–Ω—Å–æ—Ä–æ–≤
- ‚úÖ `PortableTextRenderer.tsx` - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ç–µ–∫—Å—Ç–µ —Å—Ç–∞—Ç–µ–π

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –î–æ
- –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: **~5-8 MB** (–æ—Ä–∏–≥–∏–Ω–∞–ª)
- –§–æ—Ä–º–∞—Ç: JPEG/PNG –±–µ–∑ —Å–∂–∞—Ç–∏—è
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: ~10-15 —Å–µ–∫—É–Ω–¥

### –ü–æ—Å–ª–µ
- –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: **~100-300 KB** (WebP, quality 80)
- –§–æ—Ä–º–∞—Ç: WebP —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: ~1-2 —Å–µ–∫—É–Ω–¥—ã

**–≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞: ~95%** üéâ

## Best Practices

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Å–µ—Ç—ã** –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ `asset.url`
2. **WebP –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç
3. **PNG —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–æ–≤** —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é
4. **Quality 75-85** - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ä–∞–∑–º–µ—Ä–∞
5. **Crop –¥–ª—è –∞–≤–∞—Ç–∞—Ä–æ–≤** - –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
6. **Max fit** –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞

### –î–æ
```tsx
const imageUrl = review.mainImage?.asset?.url;
```

### –ü–æ—Å–ª–µ
```tsx
const imageUrl = imagePresets.card(review.mainImage);
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Sanity Image API

–î–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é:

- `blur` - —Ä–∞–∑–º—ã—Ç–∏–µ (0-2000)
- `sharpen` - —Ä–µ–∑–∫–æ—Å—Ç—å (0-100)
- `invert` - –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–≤–µ—Ç–∞
- `saturation` - –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç—å (-100 –¥–æ 100)
- `auto=format` - –∞–≤—Ç–æ–≤—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: https://www.sanity.io/docs/image-urls
